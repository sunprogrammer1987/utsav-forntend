<div
    class="min-h-[80vh] flex items-center justify-center px-4 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 transition-colors">
    <div
        class="w-full max-w-md bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-xl p-8 transition-all duration-300">
        <!-- Header -->
        <h1 class="text-3xl font-bold text-gray-900 dark:text-gray-100 text-center mb-2">
            Reset Password ğŸ”’
        </h1>
        <p class="text-center text-gray-500 dark:text-gray-400 mb-6">
            Enter the OTP sent to your email and create a new password.
        </p>

        <!-- SUCCESS -->
        <div *ngIf="success" class="text-center text-green-600 font-semibold animate-fadeIn">
            âœ… Password updated successfully! Redirecting...
        </div>

        <!-- FORM -->
        <form *ngIf="!success" [formGroup]="form" (ngSubmit)="submit()" class="space-y-5" novalidate>
            <!-- OTP -->
            <div>
                <label class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">6-digit OTP</label>
                <input formControlName="otp" maxlength="6" placeholder="Enter OTP"
                    class="text-center tracking-widest text-lg w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2.5 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-400 outline-none" />
                <div *ngIf="form.controls.otp.invalid && form.controls.otp.touched" class="text-xs text-red-500 mt-1">
                    Please enter a valid 6-digit OTP.
                </div>
            </div>

            <!-- New Password -->
            <div>
                <label class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">New Password</label>
                <input type="password" formControlName="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                    class="w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2.5 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-400 outline-none" />
                <div *ngIf="form.controls.password.invalid && form.controls.password.touched"
                    class="text-xs text-red-500 mt-1">
                    Password must be at least 6 characters.
                </div>
            </div>

            <!-- Confirm Password -->
            <div>
                <label class="block text-sm font-medium text-gray-600 dark:text-gray-400 mb-1">Confirm Password</label>
                <input type="password" formControlName="confirmPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                    class="w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2.5 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-400 outline-none" />
                <div *ngIf="form.errors && form.controls.confirmPassword.touched" class="text-xs text-red-500 mt-1">
                    Passwords do not match.
                </div>
            </div>

            <!-- Error -->
            <div *ngIf="error" class="text-center text-red-600 text-sm">
                âš ï¸ {{ error }}
            </div>

            <!-- Submit Button -->
            <button type="submit" [disabled]="form.invalid || loading"
                class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2.5 rounded-lg shadow-md transition disabled:opacity-60">
                {{ loading ? 'â³ Updating...' : 'ğŸ”’ Reset Password' }}
            </button>
        </form>

        <!-- Resend OTP -->
        <div *ngIf="!success" class="mt-6 text-center">
            <button class="text-indigo-600 hover:underline text-sm font-medium" (click)="resendOtp()">
                ğŸ” Resend OTP
            </button>
        </div>
    </div>
</div>