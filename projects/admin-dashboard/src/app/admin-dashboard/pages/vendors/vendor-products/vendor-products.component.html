<div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow">
  <div class="flex items-center justify-between mb-4">
    <div>
      <h2 class="text-lg font-semibold">Products for {{ vendor?.shopName || vendor?.user?.name }}</h2>
      <div class="text-sm text-gray-500">{{ products.length }} products</div>
    </div>
  </div>

  <div *ngIf="loading" class="text-center py-8"><mat-progress-spinner diameter="40" mode="indeterminate"></mat-progress-spinner></div>

  <table *ngIf="!loading && products.length" mat-table [dataSource]="products" class="w-full mat-elevation-z2">
    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef>Title</th>
      <td mat-cell *matCellDef="let p">{{ p.title }}</td>
    </ng-container>

    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef>Price</th>
      <td mat-cell *matCellDef="let p">{{ p.price | currency:'INR' }}</td>
    </ng-container>

    <ng-container matColumnDef="stock">
      <th mat-header-cell *matHeaderCellDef>Stock</th>
      <td mat-cell *matCellDef="let p">{{ p.stock }}</td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef>Status</th>
      <td mat-cell *matCellDef="let p">
        <span [ngClass]="p.isActive ? 'text-green-600' : 'text-gray-500'">{{ p.isActive ? 'Active' : 'Inactive' }}</span>
      </td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let p">
        <button mat-icon-button (click)="toggleActive(p)"><mat-icon>toggle_on</mat-icon></button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="['title','price','stock','status','actions']"></tr>
    <tr mat-row *matRowDef="let row; columns: ['title','price','stock','status','actions'];"></tr>
  </table>

  <div *ngIf="!loading && !products.length" class="text-center py-8 text-gray-500">No products found.</div>
</div>
